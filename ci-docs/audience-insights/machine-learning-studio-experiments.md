---
title: Eksperimenter i Machine Learning Studio (klassisk)
description: Bruk Machine Learning Studio (klassisk)-baserte modeller i Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: m-hartmann
ms.author: mhart
ms.reviewer: ameetj
manager: shellyha
ms.openlocfilehash: 8a861d62bdfee6a3a82468fe1ab4a3fbbdad43d4
ms.sourcegitcommit: 139548f8a2d0f24d54c4a6c404a743eeeb8ef8e0
ms.translationtype: HT
ms.contentlocale: nb-NO
ms.lasthandoff: 02/15/2021
ms.locfileid: "5270216"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a><span data-ttu-id="99a72-103">Bruke modeller basert på Azure Machine Learning Studio (klassisk)</span><span class="sxs-lookup"><span data-stu-id="99a72-103">Use models based on Azure Machine Learning Studio (classic)</span></span>

<span data-ttu-id="99a72-104">De ensartede dataene i Dynamics 365 Customer Insights er en kilde for bygging av maskinlæringsmodeller som kan generere ytterligere forretningsinnsikt.</span><span class="sxs-lookup"><span data-stu-id="99a72-104">The unified data in Dynamics 365 Customer Insights is a source for building machine learning models that can generate additional business insights.</span></span> <span data-ttu-id="99a72-105">Customer Insights integreres med Machine Learning Studio (klassisk), slik at du kan bruke dine egne, tilpassede modeller.</span><span class="sxs-lookup"><span data-stu-id="99a72-105">Customer Insights integrates with Machine Learning Studio (classic) to use your own custom models.</span></span> <span data-ttu-id="99a72-106">Hvis du vil se hvordan modeller som er utviklet i Azure Machine Learning, integreres med Customer Insights, kan du se [Eksperimenter i Azure Machine Learning](azure-machine-learning-experiments.md).</span><span class="sxs-lookup"><span data-stu-id="99a72-106">To see how models developed in Azure Machine Learning are integrated with Customer Insights, see [Azure Machine Learning experiments](azure-machine-learning-experiments.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="99a72-107">Forutsetninger</span><span class="sxs-lookup"><span data-stu-id="99a72-107">Prerequisites</span></span>

- <span data-ttu-id="99a72-108">Tilgang til Customer Insights</span><span class="sxs-lookup"><span data-stu-id="99a72-108">Access to Customer Insights</span></span>
- <span data-ttu-id="99a72-109">Aktivt abonnement på Azure Enterprise</span><span class="sxs-lookup"><span data-stu-id="99a72-109">Active Azure Enterprise subscription</span></span>
- [<span data-ttu-id="99a72-110">Enhetlige kundeprofiler</span><span class="sxs-lookup"><span data-stu-id="99a72-110">Unified customer profiles</span></span>](data-unification.md)
- <span data-ttu-id="99a72-111">[Enhetseksport til Azure Blob Storage](export-azure-blob-storage.md) – konfigurasjon</span><span class="sxs-lookup"><span data-stu-id="99a72-111">[Entity export to Azure Blob storage](export-azure-blob-storage.md) set up</span></span>

## <a name="set-up-machine-learning-studio-classic"></a><span data-ttu-id="99a72-112">Konfigurere Machine Learning Studio (klassisk)</span><span class="sxs-lookup"><span data-stu-id="99a72-112">Set up Machine Learning Studio Classic</span></span>

<span data-ttu-id="99a72-113">I det første trinnet må vi opprette et arbeidsområde for og åpne Machine Learning Studio (klassisk).</span><span class="sxs-lookup"><span data-stu-id="99a72-113">In a first step, we need to create a workspace for and open the Machine Learning Studio (classic).</span></span>

1. <span data-ttu-id="99a72-114">Gå til [https://www.portal.azure.com](https://www.portal.azure.com/) og logg på.</span><span class="sxs-lookup"><span data-stu-id="99a72-114">Go to [https://www.portal.azure.com](https://www.portal.azure.com/) and sign in.</span></span>

1. <span data-ttu-id="99a72-115">Velg **Opprett en ressurs**.</span><span class="sxs-lookup"><span data-stu-id="99a72-115">Select **Create a resource**.</span></span>

1. <span data-ttu-id="99a72-116">Søk etter **Machine Learning Studio-arbeidsområde**, og velg **Opprett**.</span><span class="sxs-lookup"><span data-stu-id="99a72-116">Search **Machine Learning Studio Workspace** and select **Create**.</span></span>

1. <span data-ttu-id="99a72-117">Angi de nødvendige detaljene for å [opprette arbeidsområdet](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span><span class="sxs-lookup"><span data-stu-id="99a72-117">Enter the required details to [create the workspace](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span></span> <span data-ttu-id="99a72-118">Velg **prisnivået for webtjenesteplanen** basert på datamengden du planlegger å importere.</span><span class="sxs-lookup"><span data-stu-id="99a72-118">Choose the **Web service plan pricing tier** based on the amount of data you plan to import.</span></span> <span data-ttu-id="99a72-119">For å få best mulig ytelse bør du velge **stedet** som er nærmest deg geografisk.</span><span class="sxs-lookup"><span data-stu-id="99a72-119">For best performance, select the **Location** that is geographically closest to you.</span></span>

1. <span data-ttu-id="99a72-120">Når du har opprettet ressursen, vises instrumentbordet for Machine Learning Studio-arbeidsområdet.</span><span class="sxs-lookup"><span data-stu-id="99a72-120">After creating the resource, the Machine Learning Studio workspace dashboard will appear.</span></span> <span data-ttu-id="99a72-121">Velg **Start Machine Learning Studio**.</span><span class="sxs-lookup"><span data-stu-id="99a72-121">Select **Launch Machine Learning Studio**.</span></span>

   ![Brukergrensesnittet i Azure Machine Learning Studio](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a><span data-ttu-id="99a72-123">Arbeide med Azure Machine Learning Studio</span><span class="sxs-lookup"><span data-stu-id="99a72-123">Work with Azure Machine Learning Studio</span></span>

<span data-ttu-id="99a72-124">Du kan nå opprette et nytt eksperiment eller importere en eksisterende eksperimentmal fra eksempelgalleriet.</span><span class="sxs-lookup"><span data-stu-id="99a72-124">You can now create a new experiment, or import an existing experiment template from the sample gallery.</span></span> <span data-ttu-id="99a72-125">Det finnes eksempeleksperimenter for tre standardscenarioer:</span><span class="sxs-lookup"><span data-stu-id="99a72-125">There are sample experiments for three standard scenarios:</span></span>

- [<span data-ttu-id="99a72-126">Frafallsprediksjon</span><span class="sxs-lookup"><span data-stu-id="99a72-126">Churn prediction</span></span>](#churn-analysis)

- [<span data-ttu-id="99a72-127">Verdi for kundelevetid</span><span class="sxs-lookup"><span data-stu-id="99a72-127">Customer lifetime value</span></span>](#customer-lifetime-value-prediction)

- [<span data-ttu-id="99a72-128">Produktanbefaling eller neste beste handling</span><span class="sxs-lookup"><span data-stu-id="99a72-128">Product recommendation or next best action</span></span>](#productrecommendation-or-next-best-action)

1. <span data-ttu-id="99a72-129">Hvis du oppretter et nytt eksperiment eller bruker en eksperimentmal fra galleriet, må du konfigurere egenskapene for **Importer data**.</span><span class="sxs-lookup"><span data-stu-id="99a72-129">If you create a new experiment or use an experiment template from the gallery, you need to configure the **Import Data** properties.</span></span> <span data-ttu-id="99a72-130">Bruk den veiledede opplevelsen eller legg inn detaljer direkte for å få tilgang til Azure Blob Storage som inneholder dataene dine.</span><span class="sxs-lookup"><span data-stu-id="99a72-130">Use the guided experience or directly provide details to access the Azure Blob Storage that contains your data.</span></span>  

   ![Azure Machine Learning Studio-eksperiment](media/azure-machine-learning-studio-experiment.png)

1. <span data-ttu-id="99a72-132">Nå kan du bygge en egendefinert behandlingspipeline for å rense og forhåndsbehandle dataene, trekke ut funksjoner og lære opp en passende modell.</span><span class="sxs-lookup"><span data-stu-id="99a72-132">Now you can build a custom processing pipeline to clean and preprocess the data, extract features, and train a suitable model.</span></span>

1. <span data-ttu-id="99a72-133">Test og optimaliser modellytelsen.</span><span class="sxs-lookup"><span data-stu-id="99a72-133">Test and optimize the model performance.</span></span>

1. <span data-ttu-id="99a72-134">Når du er fornøyd med kvaliteten på en modell, velger du **Konfigurer nettjeneste** > **Prediktiv nettjeneste**.</span><span class="sxs-lookup"><span data-stu-id="99a72-134">When you’re satisfied with the quality of a model, select **Set up web service** > **Predictive Web Service**.</span></span> <span data-ttu-id="99a72-135">Dette alternativet importerer den opplærte modellen og pipelinen for funksjonisering fra opplæringseksperimentet til en prediktiv tjeneste.</span><span class="sxs-lookup"><span data-stu-id="99a72-135">This option imports the trained model and the featurization pipeline from the training experiment to a predictive service.</span></span> <span data-ttu-id="99a72-136">Den prediktive tjenesten kan ta imot et annet sett med inndata med skjemaet som brukes i opplæringseksperimentet, til å lage prediksjoner.</span><span class="sxs-lookup"><span data-stu-id="99a72-136">The predictive service can take another set of input data with the schema used in the training experiment to make predictions.</span></span>

   ![Konfigurere en prediktiv nettjeneste](media/predictive-webservice-control.png)

1. <span data-ttu-id="99a72-138">Når det prediktive nettjenesteeksperimentet er vellykket, kan du distribuere det for automatisk planlegging.</span><span class="sxs-lookup"><span data-stu-id="99a72-138">Once the predictive web service experiment is successful, you can deploy it for auto scheduling.</span></span> <span data-ttu-id="99a72-139">Hvis du vil at nettjenesten skal fungere med Customer Insights, velger du **Distribuer nettjeneste** > **Distribuer nettjeneste [Ny] – forhåndsversjon**.</span><span class="sxs-lookup"><span data-stu-id="99a72-139">To have the web service work with Customer Insights, select **Deploy Web Service** > **Deploy Web Service [New] Preview**.</span></span> <span data-ttu-id="99a72-140">[Finn ut mer om hvordan du distribuerer en nettjeneste](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span><span class="sxs-lookup"><span data-stu-id="99a72-140">[Learn more about deploying a web service](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span></span>

   ![Distribuere en prediktiv nettjeneste](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a><span data-ttu-id="99a72-142">Eksempelmodeller fra galleriet</span><span class="sxs-lookup"><span data-stu-id="99a72-142">Sample models from the gallery</span></span>

<span data-ttu-id="99a72-143">Vi bruker et fiktivt scenario med Contoso Hotel for modellene i denne artikkelen.</span><span class="sxs-lookup"><span data-stu-id="99a72-143">We'll use a fictitious scenario of Contoso Hotel for the models in this article.</span></span> <span data-ttu-id="99a72-144">Contoso Hotel samler inn følgende data:</span><span class="sxs-lookup"><span data-stu-id="99a72-144">Contoso Hotel gathers the following data:</span></span>

- <span data-ttu-id="99a72-145">CRM-data som består av aktivitet under hotelloppholdet.</span><span class="sxs-lookup"><span data-stu-id="99a72-145">CRM data consisting of hotel stay activity.</span></span> <span data-ttu-id="99a72-146">Datasettet inneholder informasjon om oppholdsdatoene for hver registrerte kunde.</span><span class="sxs-lookup"><span data-stu-id="99a72-146">The data set includes information about the dates of stay for each registered customer.</span></span> <span data-ttu-id="99a72-147">Det inneholder også informasjon om bestilling, romtyper, utgiftsdetaljer og så videre.</span><span class="sxs-lookup"><span data-stu-id="99a72-147">It also contains information about the booking, room types, details of spend, and so on.</span></span> <span data-ttu-id="99a72-148">Dataene strekker seg over fire år fra januar 2014 til januar 2018.</span><span class="sxs-lookup"><span data-stu-id="99a72-148">The data spans four years, from January 2014 to January 2018.</span></span>
- <span data-ttu-id="99a72-149">Kundeprofiler for hotellgjester.</span><span class="sxs-lookup"><span data-stu-id="99a72-149">Customer profiles of hotel guests.</span></span> <span data-ttu-id="99a72-150">Disse profilene inneholder informasjon om hver kunde, inkludert navn, fødselsdato, postadresse, kjønn og telefonnummer.</span><span class="sxs-lookup"><span data-stu-id="99a72-150">These profiles contain information about each customer, including their name, birthdate, postal address, gender, and phone number.</span></span>
- <span data-ttu-id="99a72-151">Bruk av tjenester som tilbys av hotellet, for eksempel spa, vaskeri, WiFi eller ilbud.</span><span class="sxs-lookup"><span data-stu-id="99a72-151">Usage of services offered by the hotel, such as the spa, laundry, WiFi, or courier.</span></span> <span data-ttu-id="99a72-152">Denne informasjonen blir logget for hver registrerte kunde.</span><span class="sxs-lookup"><span data-stu-id="99a72-152">This information is logged for each registered customer.</span></span> <span data-ttu-id="99a72-153">Vanligvis er bruk av tjenester koblet til oppholdet.</span><span class="sxs-lookup"><span data-stu-id="99a72-153">Typically, use of services is linked with the stay.</span></span> <span data-ttu-id="99a72-154">I noen tilfeller kan tjenester brukes av kunder uten å oppholde seg på hotellet.</span><span class="sxs-lookup"><span data-stu-id="99a72-154">In some cases, services can be used by customers without staying in the hotel.</span></span>

## <a name="churn-analysis"></a><span data-ttu-id="99a72-155">Frafallsanalyse</span><span class="sxs-lookup"><span data-stu-id="99a72-155">Churn Analysis</span></span>

<span data-ttu-id="99a72-156">Frafallsanalyse brukes på ulike forretningsområder.</span><span class="sxs-lookup"><span data-stu-id="99a72-156">Churn analysis applies to different business areas.</span></span> <span data-ttu-id="99a72-157">I dette eksemplet skal vi se på tjenestefrafall, særlig i forbindelse med hotelltjenester som beskrevet ovenfor.</span><span class="sxs-lookup"><span data-stu-id="99a72-157">In this example, we’re going to look at service churn, specifically in the context of hotel services as described above.</span></span> <span data-ttu-id="99a72-158">Den gir et aktuelt eksempel på en modellpipeline fra ende til ende som kan brukes som utgangspunkt for alle andre typer frafallsmodell.</span><span class="sxs-lookup"><span data-stu-id="99a72-158">It provides a working example of an end–to–end model pipeline that can be used as a starting point for any other type of churn model.</span></span>

### <a name="definition-of-churn"></a><span data-ttu-id="99a72-159">Definisjon av frafall</span><span class="sxs-lookup"><span data-stu-id="99a72-159">Definition of Churn</span></span>

<span data-ttu-id="99a72-160">Definisjonen av frafall kan variere etter scenario.</span><span class="sxs-lookup"><span data-stu-id="99a72-160">The definition of churn can differ based on the scenario.</span></span> <span data-ttu-id="99a72-161">I dette eksemplet skal en gjest som ikke har besøkt hotellet i løpet av det siste året, merkes som frafalt.</span><span class="sxs-lookup"><span data-stu-id="99a72-161">In this example, a guest who hasn’t visited the hotel in the past year should be labeled as churned.</span></span>  

<span data-ttu-id="99a72-162">Eksperimentmalen kan importeres fra galleriet.</span><span class="sxs-lookup"><span data-stu-id="99a72-162">The experiment template can be imported from the gallery.</span></span> <span data-ttu-id="99a72-163">Sørg først for at du importerer dataene for **Aktivitet under hotellopphold**, **Kundedata** og **Tjenestebruksdata** fra Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="99a72-163">First, ensure that you import the data for **Hotel Stay Activity**, **Customer data**, and **Service Usage Data** from Azure Blob storage.</span></span>

   ![Importere data for frafallsmodellen](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a><span data-ttu-id="99a72-165">Funksjonisering</span><span class="sxs-lookup"><span data-stu-id="99a72-165">Featurization</span></span>

<span data-ttu-id="99a72-166">Basert på definisjonen av frafall identifiserer vi først råfunksjonene som påvirker etiketten.</span><span class="sxs-lookup"><span data-stu-id="99a72-166">Based on the definition of churn, we first identify the raw features that will influence the label.</span></span> <span data-ttu-id="99a72-167">Deretter konverterer vi disse råfunksjonene til numeriske funksjoner som kan brukes med maskinlæringsmodeller.</span><span class="sxs-lookup"><span data-stu-id="99a72-167">Then, we process these raw features into numerical features that can be used with machine learning models.</span></span> <span data-ttu-id="99a72-168">Dataintegrering skjer i Customer Insights, så vi kan føye sammen disse tabellene ved hjelp av *kunde-ID-en*.</span><span class="sxs-lookup"><span data-stu-id="99a72-168">Data integration happens in Customer Insights so we can join these tables by using the *Customer ID*.</span></span>

   ![Føye sammen importerte data](media/join-imported-data.png)

<span data-ttu-id="99a72-170">Funksjoniseringen for å bygge modellen for frafallsanalyse kan være litt vanskelig.</span><span class="sxs-lookup"><span data-stu-id="99a72-170">The featurization for building the model for churn analysis can be a little tricky.</span></span> <span data-ttu-id="99a72-171">Dataene er en funksjon av tid med registrering av ny hotellaktivitet daglig.</span><span class="sxs-lookup"><span data-stu-id="99a72-171">The data is a function of time with new hotel activity recorded on daily basis.</span></span> <span data-ttu-id="99a72-172">Under funksjonisering ønsker vi å generere statiske funksjoner fra de dynamiske dataene.</span><span class="sxs-lookup"><span data-stu-id="99a72-172">During featurization, we want to generate static features from the dynamic data.</span></span> <span data-ttu-id="99a72-173">I dette tilfellet genererer vi flere funksjoner fra hotellaktivitet med et glidevindu på ett år.</span><span class="sxs-lookup"><span data-stu-id="99a72-173">In this case, we generate multiple features from hotel activity with a sliding window of one year.</span></span> <span data-ttu-id="99a72-174">Vi utvider også de kategoriske funksjonene, for eksempel romtype eller bestillingstype, til separate funksjoner ved hjelp av one-hot-koding.</span><span class="sxs-lookup"><span data-stu-id="99a72-174">We also expand the categorical features like room type or booking type into separate features using one-hot encoding.</span></span>  

<span data-ttu-id="99a72-175">Endelig liste over funksjoner:</span><span class="sxs-lookup"><span data-stu-id="99a72-175">Final list of features:</span></span>

| <span data-ttu-id="99a72-176">**Antall**</span><span class="sxs-lookup"><span data-stu-id="99a72-176">**Number**</span></span>  | <span data-ttu-id="99a72-177">**Original_Column**</span><span class="sxs-lookup"><span data-stu-id="99a72-177">**Original_Column**</span></span>          | <span data-ttu-id="99a72-178">**Avledede funksjoner**</span><span class="sxs-lookup"><span data-stu-id="99a72-178">**Derived Features**</span></span>                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="99a72-179">1</span><span class="sxs-lookup"><span data-stu-id="99a72-179">1</span></span>           | <span data-ttu-id="99a72-180">Romtype</span><span class="sxs-lookup"><span data-stu-id="99a72-180">Room Type</span></span>                    | <span data-ttu-id="99a72-181">RoomTypeLargeCount, RoomTypeSmallCount</span><span class="sxs-lookup"><span data-stu-id="99a72-181">RoomTypeLargeCount, RoomTypeSmallCount</span></span>                                                                                                    |
| <span data-ttu-id="99a72-182">2</span><span class="sxs-lookup"><span data-stu-id="99a72-182">2</span></span>           | <span data-ttu-id="99a72-183">Bestillingstype</span><span class="sxs-lookup"><span data-stu-id="99a72-183">Booking Type</span></span>                 | <span data-ttu-id="99a72-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span><span class="sxs-lookup"><span data-stu-id="99a72-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span></span>                                                                                         |
| <span data-ttu-id="99a72-185">3</span><span class="sxs-lookup"><span data-stu-id="99a72-185">3</span></span>           | <span data-ttu-id="99a72-186">Reisekategori</span><span class="sxs-lookup"><span data-stu-id="99a72-186">Travel Category</span></span>              | <span data-ttu-id="99a72-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span><span class="sxs-lookup"><span data-stu-id="99a72-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span></span>                                                                                   |
| <span data-ttu-id="99a72-188">4</span><span class="sxs-lookup"><span data-stu-id="99a72-188">4</span></span>           | <span data-ttu-id="99a72-189">Dollar brukt</span><span class="sxs-lookup"><span data-stu-id="99a72-189">Dollars Spent</span></span>                | <span data-ttu-id="99a72-190">TotalDollarSpent</span><span class="sxs-lookup"><span data-stu-id="99a72-190">TotalDollarSpent</span></span>                                                                                                                          |
| <span data-ttu-id="99a72-191">5</span><span class="sxs-lookup"><span data-stu-id="99a72-191">5</span></span>           | <span data-ttu-id="99a72-192">Innsjekkings- og utsjekkingsdato</span><span class="sxs-lookup"><span data-stu-id="99a72-192">Check-in and Checkout dates</span></span>  | <span data-ttu-id="99a72-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span><span class="sxs-lookup"><span data-stu-id="99a72-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span></span> <span data-ttu-id="99a72-194">StayCount2015, StayCount2014</span><span class="sxs-lookup"><span data-stu-id="99a72-194">StayCount2015, StayCount2014</span></span>                |
| <span data-ttu-id="99a72-195">6</span><span class="sxs-lookup"><span data-stu-id="99a72-195">6</span></span>           | <span data-ttu-id="99a72-196">Tjenestebruk</span><span class="sxs-lookup"><span data-stu-id="99a72-196">Service Usage</span></span>                | <span data-ttu-id="99a72-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span><span class="sxs-lookup"><span data-stu-id="99a72-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span></span>  |

### <a name="model-selection"></a><span data-ttu-id="99a72-198">Valg av modell</span><span class="sxs-lookup"><span data-stu-id="99a72-198">Model selection</span></span>

<span data-ttu-id="99a72-199">Nå må vi velge den optimale algoritmen som skal brukes.</span><span class="sxs-lookup"><span data-stu-id="99a72-199">Now we need to choose the optimal algorithm to use.</span></span> <span data-ttu-id="99a72-200">I dette tilfellet er de fleste funksjonene basert på kategoriske funksjoner.</span><span class="sxs-lookup"><span data-stu-id="99a72-200">In this case, most features are based on categorical features.</span></span> <span data-ttu-id="99a72-201">Modeller basert på beslutningstre fungerer vanligvis godt.</span><span class="sxs-lookup"><span data-stu-id="99a72-201">Typically, decision tree–based models work well.</span></span> <span data-ttu-id="99a72-202">Hvis det bare finnes numeriske funksjoner, kan nevrale nettverk være et bedre valg.</span><span class="sxs-lookup"><span data-stu-id="99a72-202">If there are only numerical features, neural networks could be a better choice.</span></span> <span data-ttu-id="99a72-203">Støttevektormaskin (SVM) er også en god kandidat i slike situasjoner. Den må imidlertid justeres en god del for å oppnå den beste ytelsen.</span><span class="sxs-lookup"><span data-stu-id="99a72-203">Support vector machine (SVM) also is a good candidate in such situations; however, it needs quite a bit of tuning to extract the best performance.</span></span> <span data-ttu-id="99a72-204">Vi velger **Forsterket beslutningstre med to klasser** som første modell, etterfulgt av **SVM med to klasser** som andre modell.</span><span class="sxs-lookup"><span data-stu-id="99a72-204">We choose **Two-Class Boosted Decision Tree** as the first model of choice followed by **Two-Class SVM** as the second model.</span></span> <span data-ttu-id="99a72-205">Med Azure Machine Learning Studio kan du foreta A/B-testing, så det er fordelaktig å starte med to modeller i stedet for én.</span><span class="sxs-lookup"><span data-stu-id="99a72-205">Azure Machine Learning Studio lets you do A/B testing, so it’s beneficial to start with two models rather than one.</span></span>

<span data-ttu-id="99a72-206">Følgende bilde viser modellopplæringen og evalueringspipelinen fra Azure Machine Learning Studio:</span><span class="sxs-lookup"><span data-stu-id="99a72-206">The following image shows the model training and evaluation pipeline from Azure Machine Learning Studio:</span></span>

![Frafallsmodell i Azure Machine Learning Studio](media/azure-machine-learning-model.png)

<span data-ttu-id="99a72-208">Vi bruker også en teknikk kalt **Funksjonsviktighet ved permutasjon**, et viktig aspekt ved modelloptimalisering.</span><span class="sxs-lookup"><span data-stu-id="99a72-208">We also apply a technique called **Permutation Feature Importance**, an important aspect of model optimization.</span></span> <span data-ttu-id="99a72-209">Innebygde modeller har liten til ingen innsikt i virkningen av en bestemt funksjon på den endelige prediksjonen.</span><span class="sxs-lookup"><span data-stu-id="99a72-209">Built-in models have little to no insight into the impact of any specific feature on the final prediction.</span></span> <span data-ttu-id="99a72-210">Kalkulatoren for funksjonsviktighet bruker en egendefinert algoritme til å beregne innvirkningen til enkeltfunksjoner på resultatet for en bestemt modell.</span><span class="sxs-lookup"><span data-stu-id="99a72-210">The feature importance calculator uses a custom algorithm to compute the influence of individual features on the outcome for a specific model.</span></span> <span data-ttu-id="99a72-211">Funksjonsviktigheten normaliseres mellom +1 og -1.</span><span class="sxs-lookup"><span data-stu-id="99a72-211">The feature importance is normalized between +1 to -1.</span></span> <span data-ttu-id="99a72-212">En negativ innvirkning betyr at den tilsvarende funksjonen har en kontraintuitiv innvirkning på resultatet, og bør fjernes fra modellen.</span><span class="sxs-lookup"><span data-stu-id="99a72-212">A negative influence means the corresponding feature has counter-intuitive influence on the outcome and should be removed from the model.</span></span> <span data-ttu-id="99a72-213">En positiv innvirkning indikerer at funksjonen bidrar kraftig i retning av prediksjonen.</span><span class="sxs-lookup"><span data-stu-id="99a72-213">A positive influence indicates the feature is contributing heavily towards the prediction.</span></span> <span data-ttu-id="99a72-214">Disse verdiene er ikke korrelasjonskoeffisienter siden de er ulike måledata.</span><span class="sxs-lookup"><span data-stu-id="99a72-214">These values aren't correlation coefficients as they are different metrics.</span></span> <span data-ttu-id="99a72-215">Hvis du vil ha mer informasjon, kan du se[Funksjonsviktighet ved permutasjon](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span><span class="sxs-lookup"><span data-stu-id="99a72-215">For more information, see [Permutation Feature Importance](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span></span>

<span data-ttu-id="99a72-216">Hele [frafallseksperimentet er tilgjengelig i Azure AI-galleriet](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span><span class="sxs-lookup"><span data-stu-id="99a72-216">The entire [churn experiment is available in the Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span></span>

## <a name="customer-lifetime-value-prediction"></a><span data-ttu-id="99a72-217">Prediksjon av verdi for kundelevetid</span><span class="sxs-lookup"><span data-stu-id="99a72-217">Customer lifetime value prediction</span></span>

<span data-ttu-id="99a72-218">Beregningen av verdi for kundelevetid er en av de viktigste målingene et selskap kan bruke til å vurdere og segmentere kunder.</span><span class="sxs-lookup"><span data-stu-id="99a72-218">The customer lifetime value (CLTV) calculation is one of the key metrics that a business can use to assess and segment its customers.</span></span> <span data-ttu-id="99a72-219">Det er avgjørende for hotellvirksomheter at de kjenner kundene sine.</span><span class="sxs-lookup"><span data-stu-id="99a72-219">For the hotel business, it’s critical to know their customers.</span></span> <span data-ttu-id="99a72-220">Det kan for eksempel være avgjørende å forstå hvilke faktorer som utgjør gode kunder.</span><span class="sxs-lookup"><span data-stu-id="99a72-220">For example, understanding factors that make up good customers is crucial information.</span></span> <span data-ttu-id="99a72-221">Det hjelper hotelledelsen å vurdere hvilke funksjoner de må fokusere på og forbedre for å gjøre de beste kundene fornøyde.</span><span class="sxs-lookup"><span data-stu-id="99a72-221">It helps the hotel management assess which features they need to focus on and improve to satisfy their high paying customers.</span></span> <span data-ttu-id="99a72-222">Disse beslutningene kan ha direkte innvirkning på salg og inntekter.</span><span class="sxs-lookup"><span data-stu-id="99a72-222">These decisions can have a direct impact on sales and earnings.</span></span>  

### <a name="definition-of-cltv"></a><span data-ttu-id="99a72-223">Definisjon av verdi for kundelevetid</span><span class="sxs-lookup"><span data-stu-id="99a72-223">Definition of CLTV</span></span>

<span data-ttu-id="99a72-224">I dette eksemplet definerer vi verdi for kundelevetid for en kunde som det totale dollarbeløpet kunden forventes å bruke i løpet av de neste 365 dagene.</span><span class="sxs-lookup"><span data-stu-id="99a72-224">For this example, we define the CLTV of a customer as the total dollar amount the customer is expected to spend in the next 365 days.</span></span> <span data-ttu-id="99a72-225">Vi bruker data fra de siste tre årene for alle kunder til å forutsi denne verdien.</span><span class="sxs-lookup"><span data-stu-id="99a72-225">We are going to use the past three years’ worth of data for all customers to predict this value.</span></span>

### <a name="featurization"></a><span data-ttu-id="99a72-226">Funksjonisering</span><span class="sxs-lookup"><span data-stu-id="99a72-226">Featurization</span></span>

<span data-ttu-id="99a72-227">I dette tilfellet kommer funksjonisering til å bli svært likt frafallsscenarioet.</span><span class="sxs-lookup"><span data-stu-id="99a72-227">In this case, featurization is going to be quite like the churn scenario.</span></span> <span data-ttu-id="99a72-228">Etikettene og de forutsagte verdiene er imidlertid forskjellige fra de som er definert ovenfor.</span><span class="sxs-lookup"><span data-stu-id="99a72-228">However, the labels and predicted values are different than defined above.</span></span>

### <a name="model-selection"></a><span data-ttu-id="99a72-229">Valg av modell</span><span class="sxs-lookup"><span data-stu-id="99a72-229">Model selection</span></span>

<span data-ttu-id="99a72-230">Forutsigelse av verdien for kundelevetid er et regresjonsproblem siden den forutsagte verdien er en kontinuerlig variabel med positiv verdi.</span><span class="sxs-lookup"><span data-stu-id="99a72-230">Predicting the CLTV is a regression problem as the predicted value is a positive valued continuous variable.</span></span> <span data-ttu-id="99a72-231">Basert på funksjonsegenskapene velger vi **Forsterket beslutningstreregresjon** som én algoritme og **Nevralnettverksregresjon** som en annen algoritme for å lære opp modellen.</span><span class="sxs-lookup"><span data-stu-id="99a72-231">Based on the feature properties, we select **Boosted Decision Tree Regression** as one algorithm and **Neural Network Regression** as another algorithm to train the model.</span></span>

## <a name="product-recommendation-or-next-best-action"></a><span data-ttu-id="99a72-232">Produktanbefaling eller neste beste handling</span><span class="sxs-lookup"><span data-stu-id="99a72-232">Product recommendation or Next Best Action</span></span>

<span data-ttu-id="99a72-233">Produktanbefaling i et hotellscenario tolkes som å anbefale tjenester som tilbys av hotellet, til kundene.</span><span class="sxs-lookup"><span data-stu-id="99a72-233">Product recommendation in a hotel scenario is interpreted as recommending services offered by the hotel to the customers.</span></span> <span data-ttu-id="99a72-234">Målet er å velge de riktige tjenestene for kundene slik at bruken av dem maksimeres.</span><span class="sxs-lookup"><span data-stu-id="99a72-234">The objective is to choose the appropriate services for customers so that their usage is maximized.</span></span> <span data-ttu-id="99a72-235">Det ligner på filmanbefalinger for brukere av videostrømmingstjenester.</span><span class="sxs-lookup"><span data-stu-id="99a72-235">It’s similar to movie recommendations for video streaming service users.</span></span>

### <a name="definition-of-product-recommendation-or-next-best-action"></a><span data-ttu-id="99a72-236">Definisjon av produktanbefaling eller neste beste handling</span><span class="sxs-lookup"><span data-stu-id="99a72-236">Definition of Product Recommendation or Next Best Action</span></span>

<span data-ttu-id="99a72-237">Vi definerer målet som å maksimere dollarbeløpet på bruk av tjenester ved å tilby tjenestene som samsvarer best, til hotellkunder i henhold til interessene deres.</span><span class="sxs-lookup"><span data-stu-id="99a72-237">We define the goal as maximizing the dollar amount of service usage by offering the best matching services to hotel customers according to their interest.</span></span>

### <a name="featurization"></a><span data-ttu-id="99a72-238">Funksjonisering</span><span class="sxs-lookup"><span data-stu-id="99a72-238">Featurization</span></span>

<span data-ttu-id="99a72-239">På samme måte som med frafallsmodellen føyer vi til hotellets ServiceCustomerID sammen med CustomerID for å lage anbefalinger konsekvent per CustomerID.</span><span class="sxs-lookup"><span data-stu-id="99a72-239">Like the churn model, we are joining the hotel ServiceCustomerID with CustomerID in order to build recommendations consistently per CustomerID.</span></span>

![Funksjonisering av anbefalingsmodellen](media/azure-machine-learning-model-featurization.png)

<span data-ttu-id="99a72-241">Dataene stammer fra tre ulike enheter, og funksjoner utledes fra dem.</span><span class="sxs-lookup"><span data-stu-id="99a72-241">The data is sourced from three different entities and features are derived from them.</span></span> <span data-ttu-id="99a72-242">Funksjoniseringen for anbefalingsproblemet er annerledes i forhold til scenarioene med frafall eller verdi for kundelevetid.</span><span class="sxs-lookup"><span data-stu-id="99a72-242">The featurization for the problem of recommendation is different compared to churn or CLTV scenarios.</span></span> <span data-ttu-id="99a72-243">Anbefalingsmodellen trenger inndata i form av tre sett med funksjoner.</span><span class="sxs-lookup"><span data-stu-id="99a72-243">The recommendation model needs input data in the form of three sets of features.</span></span>

### <a name="model-selection"></a><span data-ttu-id="99a72-244">Valg av modell</span><span class="sxs-lookup"><span data-stu-id="99a72-244">Model selection</span></span>

<span data-ttu-id="99a72-245">Vi forutsier produkter eller tjenester ved å bruke algoritmen kalt **Lær opp Matchbox-anbefaler** til å lære opp anbefalingsmodellen.</span><span class="sxs-lookup"><span data-stu-id="99a72-245">We predict products or services by using the algorithm called **Train Matchbox Recommender** to train the recommendation model.</span></span>

![Algoritme for produktanbefaling](media/azure-machine-learning-model-recommendation-algorithm.png)

<span data-ttu-id="99a72-247">De tre inndataportene for modellen **Lær opp Matchbox-anbefaler** tar imot opplæringsdataene for tjenestebruk, kundebeskrivelse (valgfri) og tjenestebeskrivelse.</span><span class="sxs-lookup"><span data-stu-id="99a72-247">The three input ports for the **Train Matchbox Recommender** model takes in the training service usage data, customer description (optional), and service description.</span></span> <span data-ttu-id="99a72-248">Det er tre forskjellige måter å beregne poeng for modellen på.</span><span class="sxs-lookup"><span data-stu-id="99a72-248">There are three different ways of scoring the model.</span></span> <span data-ttu-id="99a72-249">Den ene måten er for modellevaluering der en NDCG-poengsum (Normalized Discounted Cumulative Gain) beregnes for å rangere de vurderte elementene.</span><span class="sxs-lookup"><span data-stu-id="99a72-249">One is for model evaluation where a Normalized Discounted Cumulative Gain (NDCG) score is calculated to rank the rated items.</span></span> <span data-ttu-id="99a72-250">I dette eksperimentet har vi NDCG-poengsummen 0,97.</span><span class="sxs-lookup"><span data-stu-id="99a72-250">In this experiment, we have the NDCG score as 0.97.</span></span> <span data-ttu-id="99a72-251">De to andre alternativene er å poengberegne modellen for hele tjenestekatalogen som anbefales, eller bare poengberegne elementer som brukere ikke har brukt før.</span><span class="sxs-lookup"><span data-stu-id="99a72-251">The other two options are scoring the model on the entire recommendable service catalog, or scoring only on items that users have not used before.</span></span>

<span data-ttu-id="99a72-252">Hvis vi ser nærmere på distribusjonen av anbefalingene for hele tjenestekatalogen, ser vi at telefon, WiFi og ilbud er de beste tjenestene som anbefales.</span><span class="sxs-lookup"><span data-stu-id="99a72-252">Looking further on the distributions of the recommendations on the entire service catalog, we notice that phone, WiFi, and courier are the top services to be recommended.</span></span> <span data-ttu-id="99a72-253">Dette samsvarer med det vi fant for distribusjonene av tjenesteforbruksdataene:</span><span class="sxs-lookup"><span data-stu-id="99a72-253">This is consistent with what we found from the distributions of the service consumption data:</span></span>

![Utdata fra anbefalingsmodell](media/azure-machine-learning-model-output.png)

<span data-ttu-id="99a72-255">Du får tilgang til hele [produktanbefalingseksperimentet i Azure AI-galleriet.](https://gallery.azure.ai/Experiment/Recommendation-4)</span><span class="sxs-lookup"><span data-stu-id="99a72-255">The entire [product recommendation experiment can be accessed in Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span></span>

## <a name="integrate-custom-models"></a><span data-ttu-id="99a72-256">Integrere egendefinerte modeller</span><span class="sxs-lookup"><span data-stu-id="99a72-256">Integrate custom models</span></span>

<span data-ttu-id="99a72-257">Hvis du vil bruke disse prediksjonene i Customer Insights, må du **eksportere** prediksjonene sammen med kunde-ID-ene.</span><span class="sxs-lookup"><span data-stu-id="99a72-257">To use these predictions in Customer Insights, you need to **export** the predictions along with the customer IDs.</span></span> <span data-ttu-id="99a72-258">[Eksporter dem til samme Azure Blob Storage-plassering](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) som du eksporterer kildedataene til.</span><span class="sxs-lookup"><span data-stu-id="99a72-258">[Export them to the same Azure Blob storage location](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) that you export the source data to.</span></span> <span data-ttu-id="99a72-259">Den prediktive nettjenesten kan planlegges til å kjøre regelmessig og oppdatere poengsummene.</span><span class="sxs-lookup"><span data-stu-id="99a72-259">The predictive web service can be scheduled to run regularly and update the scores.</span></span>

<span data-ttu-id="99a72-260">Data som genereres av den egendefinerte modellen, kan brukes til å supplere kundedataene ytterligere.</span><span class="sxs-lookup"><span data-stu-id="99a72-260">Data generated by the custom model can be used to further enrich your customer data.</span></span> <span data-ttu-id="99a72-261">Hvis du vil ha mer informasjon, kan du se [Egendefinerte maskinlæringsmodeller](custom-models.md).</span><span class="sxs-lookup"><span data-stu-id="99a72-261">For more information, see [Custom machine learning models](custom-models.md).</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]